const FACEBOOK_GRAPH_API_BASE_URL = 'https://graph.facebook.com/v2.6/';
const PAGE_ACCESS_TOKEN = process.env.PAGE_ACCESS_TOKEN;

const request = require('request');

// postbacks
const GET_STARTED = 'GET_STARTED';
const REGISTRATION = 'REGISTRATION';
const CONTACT_US = 'CONTACT_US';

const CREATE_MEETING = 'CREATE_MEETING';
const ADDING_ORGANIZATOR = 'ADDING_ORGANIZATOR';

// db_requests
const INSERT_USER = "INSERT_USER";
const STARTED_REGISTRATION = "STARTED_REGISTRATION";
const GET_STATUS = "GET_STATUS";
const UPDATE_STATUS = "UPDATE_STATUS";
const UPDATE_NICKNAME = "UPDATE_NICKNAME";
const CONTACT_US_REDIRECT = "CONTACT_US_REDIRECT";
const GET_ALL_LANGUAGES = "GET_ALL_LANGUAGES";
const INSERT_USER_LANGUAGES = "INSERT_USER_LANGUAGES";
const GET_PERMISSION_LEVEL = "GET_PERMISSION_LEVEL";
const UPDATE_PERMISSION_LEVEL = "UPDATE_PERMISSION_LEVEL";

// statuses
const GOT_STARTED = "GOT_STARTED";
const CONTACTING_US = "CONTACTING_US";

// POSTGRESQL QUERIES
const GET_USER_DATA = 'SELECT * FROM users WHERE "facebookID"=$1::varchar';
const INSERT_USER_QUERY = 'INSERT INTO users("facebookID", status, nickname, "permissionLevel") VALUES($1::varchar, $2::varchar, NULL, \'0\')';
const UPDATE_CYCLE_STATUS = 'UPDATE users SET status=$1::varchar WHERE "facebookID"=$2::varchar';
const GET_STATUS_QUERY = 'SELECT status FROM users WHERE "facebookID"=$1::varchar';
const GET_PERMISSION_LEVEL_QUERY = 'SELECT "permissionLevel" FROM users WHERE "facebookID"=$1::varchar';
const UPDATE_PERMISSION_LEVEL_QUERY = 'UPDATE users SET "permissionLevel"=$1 WHERE "facebookID"=$2::varchar';
const UPDATE_NICKNAME_QUERY = 'UPDATE users SET nickname=$1::varchar WHERE "facebookID"=$2::varchar';
const GET_ALL_LANGUAGES_QUERY = 'SELECT getLanguagesArray()';
const DELETE_ALL_USER_LANGUAGES = 'DELETE FROM languages WHERE "facebookID"=$1::varchar';
const INSERT_USER_LANGUAGES_QUERY = 'INSERT INTO languages("userID", "langName") VALUES($1::varchar, $2::lang_name_t)';

module.exports = {
    request: request,
    FACEBOOK_GRAPH_API_BASE_URL: FACEBOOK_GRAPH_API_BASE_URL,
    PAGE_ACCESS_TOKEN: PAGE_ACCESS_TOKEN,

    GET_STARTED: GET_STARTED,
    GOT_STARTED: GOT_STARTED,
    REGISTRATION: REGISTRATION,
    CONTACT_US: CONTACT_US,
  
    CREATE_MEETING: CREATE_MEETING,
    ADDING_ORGANIZATOR: ADDING_ORGANIZATOR,
   

    INSERT_USER: INSERT_USER,
    STARTED_REGISTRATION: STARTED_REGISTRATION,
    GET_STATUS: GET_STATUS,
    UPDATE_STATUS: UPDATE_STATUS,
    UPDATE_NICKNAME: UPDATE_NICKNAME,
    CONTACT_US_REDIRECT: CONTACT_US_REDIRECT,
    GET_ALL_LANGUAGES: GET_ALL_LANGUAGES,
    INSERT_USER_LANGUAGES: INSERT_USER_LANGUAGES,
    GET_PERMISSION_LEVEL: GET_PERMISSION_LEVEL,
    UPDATE_PERMISSION_LEVEL: UPDATE_PERMISSION_LEVEL,

    CONTACTING_US: CONTACTING_US,

    GET_USER_DATA: GET_USER_DATA,
    INSERT_USER_QUERY: INSERT_USER_QUERY,
    UPDATE_CYCLE_STATUS: UPDATE_CYCLE_STATUS,
    GET_STATUS_QUERY: GET_STATUS_QUERY,
    UPDATE_NICKNAME_QUERY: UPDATE_NICKNAME_QUERY,
    GET_ALL_LANGUAGES_QUERY: GET_ALL_LANGUAGES_QUERY,
    DELETE_ALL_USER_LANGUAGES: DELETE_ALL_USER_LANGUAGES,
    INSERT_USER_LANGUAGES_QUERY: INSERT_USER_LANGUAGES_QUERY,
    GET_PERMISSION_LEVEL_QUERY: GET_PERMISSION_LEVEL_QUERY,
    UPDATE_PERMISSION_LEVEL_QUERY: UPDATE_PERMISSION_LEVEL_QUERY,
}